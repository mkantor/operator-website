{{#> _page.html.hbs}}
  {{get "/_header"}}

  <article>
    <h2>Serve Static Files</h2>
    <p>Static files are served directly.</p>
    <p>
      For example, you can drop a
      <a
        href="https://github.com/mkantor/operator-website/blob/master/content/examples/operator.jpg"
        >photo</a
      >
      into
      <a href="https://github.com/mkantor/operator-website/blob/master/content"
        >your content directory</a
      >
      and it'll be accessible:
    </p>
    <figure>
      <a href="/examples/operator.jpg"
        ><img src="/examples/operator.jpg" alt="The photo."
      /></a>
    </figure>
  </article>

  <article>
    <h2>Run Executables</h2>
    <p>
      Executables are executed at request time, with standard output piped out
      as the response body. Any program that you can run from the command line
      will work (think scripts, compiled binaries, etc).
    </p>
    <div class="group">
      <p>For example, this timestamp is the output of a shell script:</p>
      <pre><a href="https://github.com/mkantor/operator-website/blob/master/content/examples/now.html.sh">now.html.sh</a>: {{get "/examples/now"}}</pre>
    </div>

    <div class="group">
      <p>
        Since executables are run as normal programs by your operating system
        you can freely mix and match languages:
      </p>
      <pre><a href="https://github.com/mkantor/operator-website/blob/master/content/examples/polyglot/foo.html.js">foo.html.js</a>: {{get "/examples/polyglot/foo"}}</pre>
      <pre><a href="https://github.com/mkantor/operator-website/blob/master/content/examples/polyglot/bar.html.py">bar.html.py</a>: {{get "/examples/polyglot/bar"}}</pre>
      <pre><a href="https://github.com/mkantor/operator-website/blob/master/content/examples/polyglot/baz.html.awk">baz.html.awk</a>: {{get "/examples/polyglot/baz"}}</pre>
    </div>
  </article>

  <article>
    <h2>Render Handlebars Templates</h2>
    <p>Handlebars templates are rendered at request time.</p>
    <p>
      Templates can embed content from other files&mdash;even static files and
      executables&mdash;via <code>\{{get "/file"}}</code>.
    </p>
    <p>
      For example,
      <a
        href="https://github.com/mkantor/operator-website/blob/master/content/features.html.hbs"
        >this page is a template</a
      >, and here's a random number generated by
      <a
        href="https://github.com/mkantor/operator-website/blob/master/content/examples/random.html.sh"
        >an executable</a
      >: <strong>{{get "/examples/random"}}</strong>
    </p>
  </article>

  <article>
    <h2>Content Negotiation</h2>
    <p>
      <a href="https://tools.ietf.org/html/rfc7231#section-3.4"
        >Content negotiation</a
      >
      is performed based on
      <a href="https://tools.ietf.org/html/rfc7231#section-5.3.2"
        >the <code>Accept</code> header</a
      >.
    </p>
    <p>
      Multiple representations of the same content can be provided by creating
      files whose names differ only by extension. For example, if you have
      <a
        href="https://github.com/mkantor/operator-website/blob/master/content/examples/negotiation/image.png"
        ><code>image.png</code></a
      >
      and
      <a
        href="https://github.com/mkantor/operator-website/blob/master/content/examples/negotiation/image.webp"
        ><code>image.webp</code></a
      >, the server will be able to satisfy
      <a href="examples/negotiation/image"><code>GET /image</code></a> as either
      <code>image/png</code> or <code>image/webp</code>. "Negotiation" means
      that Operator uses the representation which best fits the client's
      preferences. For example, your browser prefers
      <img
        class="inline"
        src="examples/negotiation/image"
        alt="Image in PNG or WebP format, depending on your browser."
      />.
    </p>
    <p>
      Request URLs with file extensions override the <code>Accept</code> header.
      For example, you can
      <a href="examples/negotiation/image.png"><code>GET /image.png</code></a>
      or
      <a href="examples/negotiation/image.webp"><code>GET /image.webp</code></a>
      to retrieve a specific type no matter which your browser prefers.
    </p>
  </article>

  <article>
    <h2>Streaming</h2>
    <p>
      Operator sends chunks of the response body as soon they become available.
      It doesn't wait for the entire response to be generated.
    </p>
    <div class="group">
      <p>For example, with this executable:</p>
      <pre><span class="comment">#!/bin/sh</span>
echo '&lt;!doctype html&gt;&lt;meta charset="utf-8"&gt;'
for n in $(seq 0 100)
do
  sleep 0.03
  printf 'â–ˆ'
done</pre>
      <p>
        The block characters are pushed to the client
        <a href="/examples/slow">one at a time</a>.
      </p>
    </div>
  </article>

  {{get "/_footer"}}
{{/_page.html.hbs}}
